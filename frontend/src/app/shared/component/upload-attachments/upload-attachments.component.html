<h1> Attachments</h1>

<div class="boxy" *ngFor="let item of attachments;let i = index">
  <div class="centered">
    <small style="word-wrap: break-word">{{item.file_name}} </small>
    <small> Uploader:<strong> {{item.user_name}}</strong></small>
    <br />
    <small> Date:<strong> {{item.date | date}}</strong></small>
    <br />
    <small> type:<strong> {{item.file_type }}</strong></small>
    <br />
    <div style="display: inline-flex">
      <button type="button" (click)="downloadFile(item)" class="btn btn-green"> View </button>
      <button type="button" *ngIf="user_id==item.user_id" (click)="deleteFile(deleteTemplate,item)" class="btn btn-red">
        delete
      </button></div>
  </div>
</div>

<div class="boxy incomplete">
  <label class="fileContainer">
    <img *ngIf="!fileItem" src="assets/images/attachment.png">
    <input type="file" (change)="onFileChange($event)" class="inputfile" />
    <button *ngIf="fileItem" type="button" (click)="uploadFile()" class="btn btn-green"> UPLOAD !!</button>

  </label>

</div>

<!-- Confirmation  Modal -->
<ng-template #deleteTemplate>
  <div class="modal-body text-center">
    <p>
      Are you sure you want to remove
      {{ selectedAttachment?.file_name }} ?
    </p>
    <button type="button" class="btn btn-green" (click)="confirmDelete()">
      Yes
    </button>
    <button type="button" class="btn btn-default" (click)="decline()">
      No
    </button>
  </div>
</ng-template>
